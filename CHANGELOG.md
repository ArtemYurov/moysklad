# Changelog

## v0.6.0 [[Upgrade guide](/UPGRADE.md)]

Ряд изменений билдера запросов:

* Билдер теперь инициализируется не напрямую из `\Evgeek\Moysklad\MoySklad::class`, а через метод `MoySklad::query()`.
* Формат ответа задаётся теперь не через `\Evgeek\Moysklad\Enums\Format::class`, а через имя любого класса-форматтера, имплементирующего `Evgeek\Moysklad\Formatters\JsonFormatter`. Как и раньше, библиотека включает в себя три стандартных форматтера: `StdClassFormat` (по умолчанию), `ArrayFormat` и `StringFormat`, но теперь при желании можно реализовать свой собственный.
* Фильтры теперь задаются более просто, без использования `Evgeek\Moysklad\Filter::class`.
* Параметры запроса (`->limit()`, `->filter()`, `->params()` и т.д.), которые ранее требовалось задавать исключительно в конце билдера, теперь корректно работают в любом месте fluent-цепочки.
* В качестве значения параметра в `filter()` и `param()` теперь можно передавать не только строку, но и `bool|int|float`, переданное значение будет сконвертировано в строку автоматом (`123.45` => `'123.45'`, `true` => `'true'`)

## v0.5.2

Добавлен PHPUnit и базовые тесты.

## v0.5.1

Переработан метод `Meta::state()`. Ранее он создавал мету только для `customerorder`, теперь - для любой переданной сущности.